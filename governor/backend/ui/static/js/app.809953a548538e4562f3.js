webpackJsonp([1],{A0QE:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICA8dGl0bGU+c3RhdGljX2lwPC90aXRsZT4KICA8Zz4KICAgIDxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMzI2Y2U1Ii8+CiAgICA8cGF0aCBkPSJNNTAsMTkuNDc1QTMwLjUyNSwzMC41MjUsMCwxLDAsODAuNTI1LDUwLDMwLjUyNSwzMC41MjUsMCwwLDAsNTAsMTkuNDc1Wk0yMy44MzUsNTBhMjYuMDU3LDI2LjA1NywwLDAsMSwuNzYyLTYuMTg3SDM3LjU1MmE0My4zNjcsNDMuMzY3LDAsMCwwLDAsMTIuMzc1SDI0LjZBMjYuMDU3LDI2LjA1NywwLDAsMSwyMy44MzUsNTBaTTQxLjQ3LDUwYTQxLjA4Miw0MS4wODIsMCwwLDEsLjQ5LTYuMTg3SDU4LjA0MUE0MS4xNTIsNDEuMTUyLDAsMCwxLDU4LjUzLDUwYTQwLjg5MSw0MC44OTEsMCwwLDEtLjQ5Miw2LjE4OEg0MS45NTlBNDEuMSw0MS4xLDAsMCwxLDQxLjQ3LDUwWm0yMC45NzctNi4xODdINzUuNGEyNS41LDI1LjUsMCwwLDEsMCwxMi4zNzVINjIuNDQ3YTQzLjM1NSw0My4zNTUsMCwwLDAsMC0xMi4zNzVabTExLjU3My00LjEyNUg2MS43MDhhNDUuODE0LDQ1LjgxNCwwLDAsMC02Ljc0Ni0xNS4zNjdBMjYuMjQzLDI2LjI0MywwLDAsMSw3NC4wMTksMzkuNjg4Wk01MCwyNC45MTNhNDEuNDU2LDQxLjQ1NiwwLDAsMSw3LjIxNCwxNC43NzRINDIuNzg0QTQxLjQ5Myw0MS40OTMsMCwwLDEsNTAsMjQuOTEzWm0tNC45ODQtLjU4OWE0NS44NDgsNDUuODQ4LDAsMCwwLTYuNzMxLDE1LjM2NEgyNS45ODFBMjYuMjQzLDI2LjI0MywwLDAsMSw0NS4wMiwyNC4zMjRaTTI1Ljk4MSw2MC4zMTNIMzguMjkzQTQ1Ljg3Niw0NS44NzYsMCwwLDAsNDUuMDQsNzUuNjc5LDI2LjI0MywyNi4yNDMsMCwwLDEsMjUuOTgxLDYwLjMxM1pNNDkuOTg2LDc1LjA2NmE0MS40NzksNDEuNDc5LDAsMCwxLTcuMi0xNC43NTRINTcuMjA5QTQxLjU3MSw0MS41NzEsMCwwLDEsNDkuOTg2LDc1LjA2NlptNC45NzUuNjEzYTQ1Ljc3NCw0NS43NzQsMCwwLDAsNi43NDgtMTUuMzY3SDc0LjAxOUEyNi4yNDMsMjYuMjQzLDAsMCwxLDU0Ljk2MSw3NS42NzlaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgo8L3N2Zz4K"},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("7+uW"),n=a("NYxO"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App"},i,!1,function(e){a("hHBS")},null,null).exports,r=a("/ocq"),l=a("Dd8w"),c=a.n(l),u=a("M4fF"),p=a.n(u),d={data:function(){return{ipList:[{AppName:null,PodName:null,ServiceName:null,StaticIp:null,TenantName:null},{AppName:null,PodName:null,ServiceName:null,StaticIp:null,TenantName:null}],total:0,listQuery:{page:1,limit:10,keywords:""},loading2:!1,tabPosition:"left",labelPosition:"top",tabName:"first",multipleSelection:[],dialogVisible:!1,getewayDialogVisible:!1,title:"新增IP",getewayTitle:"新增网关子网",form:{TenantName:""},deleteForm:{StaticIps:[],TenantName:""},staticIps:[],addIpsForm:{StartIp:"",EndIp:"",TenantName:""},keywords:"",getewayForm:{Subnet:"",Gateway:""},pagesize:10,total1:0,currentPage1:1,InfoList1:[],everyInfoList1:[],rules:{StartIp:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:"请输入有效的IP地址",trigger:"blur"}],EndIp:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:"请输入有效的IP地址",trigger:"blur"}],TenantName:[{required:!0,message:"请选择租户",trigger:"change"}],Gateway:[{required:!0,message:"网关不能为空",trigger:"blur"},{pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:"请输入有效的网关地址",trigger:"blur"}],Subnet:[{required:!0,message:"子网不能为空",trigger:"blur"},{message:"请输入有效的子网地址",trigger:"blur"}]}}},created:function(){this.getIps(),this.getCurrentUserInfo(),this.getTenants(),this.getGateway()},mounted:function(){this.addInterceptors()},watched:function(){this.getCurrentUserInfo(),this.getTenants()},computed:c()({deleteForm2:function(){var e=this;this.multipleSelection.forEach(function(t,a){e.staticIps.push(t.ipName)}),this.deleteForm.StaticIps=this.staticIps,this.deleteForm.TenantName=this.form.TenantName,this.staticIps=[]}},Object(n.c)(["ips","pageList","unUseIps","currentUserInfo","tenants","VerityForm","CheckedRules","gateway"])),methods:c()({getIps:function(){var e=this;this.loading2=!0,this.getAll(this.listQuery).then(function(t){0===e.ips.length&&(e.ipList=[]),e.total=e.ips.length,e.ipList=e.pageList,e.loading2=!1}).catch(function(e){console.log(e)})},handleFilter:function(){this.listQuery.page=1,this.getIps()},handleSizeChange:function(e){this.listQuery.limit=e,this.getIps()},handleCurrentChange:function(e){this.listQuery.page=e,this.getIps()},computerInfo:function(){this.computeIpsList()},DeleteGateway:function(e,t){var a=this,s={};s.Subnet=t.Subnet,this.$confirm("此操作将会删除当前数据,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.singleDeleteSubnet(s).then(function(e){a.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(e){console.log(e),e.response.status&&a.$message({showClose:!0,message:e.response.data.message,type:"error"})})}).catch(function(){a.$message({type:"info",message:"已取消删除",showClose:!0})})},submitGetewayForm:function(e){var t=this;this.$refs.getewayForm.validate(function(a){if(!a)return console.log("error submit!!"),!1;t.singleAddGeteway(e).then(function(e){t.$message({showClose:!0,message:"添加成功",type:"success"}),t.getewayDialogVisible=!1,t.$refs.getewayForm.resetFields()}).catch(function(e){t.$message({showClose:!0,message:e.response.data.message,type:"error"}),console.log(e)})})},addGeteway:function(e){this.getewayDialogVisible=!0},closeGetewayDialog:function(){this.getewayDialogVisible=!1,this.$refs.getewayForm.resetFields()},computeUnUseIPs:function(){var e=this;this.InfoList1=p.a.clone(this.unUseIps),this.total1=this.InfoList1.length;var t=[];this.InfoList1.forEach(function(a){t.push(e.InfoList1.splice(0,e.pagesize))}),this.InfoList1.length<this.pagesize&&t.push(this.InfoList1.splice(0,this.InfoList1.length)),this.InfoList1=t,this.everyInfoList1=this.InfoList1[0]},handleCurrentChange1:function(e){this.everyInfoList1=this.InfoList1[e-1]},deleteStaticIPs:function(e){var t=this;console.log(e),e.StaticIps.length&&e.TenantName?this.$confirm("此操作将会删除当前数据,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.batchDeleteStaticIps(e).then(function(a){t.$message({showClose:!0,message:"删除成功",type:"success"}),t.submitForm(e.TenantName)}).catch(function(e){console.log(e),t.$message({showClose:!0,message:e.response.data.message,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除",showClose:!0})}):this.$message({type:"warning",message:"请先选择要删除的数据！",showClose:!0})},callOff:function(){this.dialogVisible=!1,this.$refs.addIpsForm.resetFields()},addIP:function(){this.dialogVisible=!0},addIPSubmitForm:function(e){var t=this;console.log(e),this.$refs.addIpsForm.validate(function(a){if(!a)return console.log("error submit!!"),!1;t.addStaticIP(e).then(function(a){t.form.TenantName=e.TenantName,t.$message({showClose:!0,message:"添加IP成功",type:"success"}),t.submitForm(e.TenantName),t.dialogVisible=!1}).catch(function(e){console.log(e),t.$message({showClose:!0,message:e.response.data.message,type:"error"})})})},submitForm:function(e){this.getUnUseIp(e)},getUnUseIp:function(e){var t=this;this.getUnUseIps(e).then(function(e){t.computeUnUseIPs()}).catch(function(e){console.log(e),t.everyInfoList1=[]})},handleSelectionChange:function(e){this.multipleSelection=e}},Object(n.b)(["getAll","getUnUseIps","getCurrentUserInfo","getTenants","batchDeleteStaticIps","addStaticIP","getGateway","singleDeleteSubnet","singleAddGeteway","addInterceptors"]))},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"static-ip"},[e._m(0),e._v(" "),a("main",{staticClass:"ip-content"},[a("article",{staticClass:"container"},[a("el-card",{staticClass:"box-card content"},[a("el-tabs",{attrs:{"tab-position":e.tabPosition},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[a("el-tab-pane",{attrs:{label:"IP地址池",name:"first"},on:{"tab-click":e.computerInfo}},[a("div",{staticClass:"panel-content"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix panel-header",attrs:{slot:"header"},slot:"header"},[a("p",[e._v("IP地址池")])]),e._v(" "),a("div",{staticClass:"btn-box"},[a("el-input",{staticClass:"sort",attrs:{placeholder:"请输入关键字","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.keywords,callback:function(t){e.$set(e.listQuery,"keywords",t)},expression:"listQuery.keywords"}})],1),e._v(" "),a("div",{staticClass:"tabel-box"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading2,expression:"loading2"}],staticStyle:{width:"100%"},attrs:{data:e.ipList,border:"","element-loading-text":"正在加载数据"}},[a("el-table-column",{attrs:{prop:"StaticIp",label:"IP地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"PodName",label:"Pod"}}),e._v(" "),a("el-table-column",{attrs:{prop:"AppName",label:"应用"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ServiceName",label:"服务"}}),e._v(" "),a("el-table-column",{attrs:{prop:"TenantName",label:"租户"}})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.listQuery.page,"page-size":e.listQuery.limit,layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)]),e._v(" "),a("el-tab-pane",{attrs:{label:"暂未分配",name:"second"}},[a("div",{staticClass:"panel-content"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix panel-header",attrs:{slot:"header"},slot:"header"},[a("p",[e._v("未分配IP")])]),e._v(" "),a("el-select",{staticClass:"selectTenant",attrs:{placeholder:"请选择租户"},on:{change:function(t){e.submitForm(e.form.TenantName)}},model:{value:e.form.TenantName,callback:function(t){e.$set(e.form,"TenantName",t)},expression:"form.TenantName"}},e._l(e.tenants,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.currentUserInfo.IsAdmin,expression:"currentUserInfo.IsAdmin"}],staticClass:"btn-box"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUserInfo.IsAdmin,expression:"currentUserInfo.IsAdmin"}],staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.addIP()}}},[a("i",{staticClass:"el-icon-plus"}),e._v("\n                      新增IP\n                    ")]),e._v(" "),a("el-button",{staticClass:"btn",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.deleteStaticIPs(e.deleteForm)}}})],1),e._v(" "),a("div",{staticStyle:{display:"none"}},[e._v(e._s(e.deleteForm)+e._s(e.deleteForm2))]),e._v(" "),a("div",{staticClass:"tabel-box"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.everyInfoList1,border:""},on:{"selection-change":e.handleSelectionChange},model:{value:e.deleteForm,callback:function(t){e.deleteForm=t},expression:"deleteForm"}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ipName",label:"IP地址"}})],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{layout:"total, prev, pager, next, jumper","page-size":e.pagesize,"current-page":e.currentPage1,total:e.total1},on:{"current-change":e.handleCurrentChange1}})],1)],1)],1)]),e._v(" "),e.currentUserInfo.IsAdmin?a("el-tab-pane",{attrs:{label:"网关子网",name:"third"}},[a("div",{staticClass:"panel-content"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix panel-header",attrs:{slot:"header"},slot:"header"},[a("p",[e._v("网关子网")])]),e._v(" "),a("div",{staticClass:"btn-box"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUserInfo.IsAdmin,expression:"currentUserInfo.IsAdmin"}],staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.addGeteway()}}},[a("i",{staticClass:"el-icon-plus"}),e._v("\n                      新增网关子网\n                    ")])],1),e._v(" "),a("div",{staticClass:"tabel-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.gateway,border:""}},[a("el-table-column",{attrs:{prop:"Gateway",label:"网关"}}),e._v(" "),a("el-table-column",{attrs:{prop:"Subnet",label:"子网"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){e.DeleteGateway(t.$index,t.row)}}},[a("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)])],1)]):e._e()],1)],1),e._v(" "),a("el-dialog",{staticClass:"templet_dialog",attrs:{title:e.title,visible:e.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addIpsForm",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.addIpsForm,rules:e.rules,CheckedRules:e.addIpsForm}},[a("el-form-item",{attrs:{label:"分配IP",prop:"StartIp"}},[a("el-input",{attrs:{placeholder:"IP起始地址",clearable:""},model:{value:e.addIpsForm.StartIp,callback:function(t){e.$set(e.addIpsForm,"StartIp",t)},expression:"addIpsForm.StartIp"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"EndIp"}},[a("el-input",{attrs:{placeholder:"IP结束地址",clearable:""},model:{value:e.addIpsForm.EndIp,callback:function(t){e.$set(e.addIpsForm,"EndIp",t)},expression:"addIpsForm.EndIp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"租户",prop:"TenantName",required:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addIpsForm.TenantName,callback:function(t){e.$set(e.addIpsForm,"TenantName",t)},expression:"addIpsForm.TenantName"}},e._l(e.tenants,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.callOff()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addIPSubmitForm(e.addIpsForm)}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"templet_dialog",attrs:{title:e.getewayTitle,visible:e.getewayDialogVisible,center:"",width:"30%"},on:{"update:visible":function(t){e.getewayDialogVisible=t}}},[a("el-form",{ref:"getewayForm",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.getewayForm,rules:e.rules,CheckedRules:e.addIpsForm}},[a("el-form-item",{attrs:{label:"子网",prop:"Subnet"}},[a("el-input",{attrs:{placeholder:"子网,例如192.168.5.0/23",clearable:""},model:{value:e.getewayForm.Subnet,callback:function(t){e.$set(e.getewayForm,"Subnet",t)},expression:"getewayForm.Subnet"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网关",prop:"Gateway"}},[a("el-input",{attrs:{placeholder:"网关,例如192.168.5.1",clearable:""},model:{value:e.getewayForm.Gateway,callback:function(t){e.$set(e.getewayForm,"Gateway",t)},expression:"getewayForm.Gateway"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.closeGetewayDialog()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitGetewayForm(e.getewayForm)}}},[e._v("确 定")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"ip-header"},[t("section",{staticClass:"header-top"},[t("article",{staticClass:"header-img"},[t("img",{attrs:{src:a("A0QE")}})]),this._v(" "),t("article",{staticClass:"header-content clearfix"},[t("div",{staticClass:"hedder-title"},[t("p",[this._v("地址池管理")])]),this._v(" "),t("div",{staticClass:"header-describe"},[t("p",{staticClass:"clearfix"},[this._v("统一管理和分配静态 IP 地址, 每个容器都可以拥有独立的静态 IP")])])])])])}]};var g=a("VU/8")(d,m,!1,function(e){a("V94G")},null,null).exports;s.default.use(r.a);var f=new r.a({routes:[{path:"/",name:"IpList",component:g}]}),h=a("zL8q"),w=a.n(h),I=(a("tvR6"),a("NETs")),b=a.n(I),y=a("mvHQ"),N=a.n(y),v=a("//Fk"),C=a.n(v),L=a("mtWM"),M=a.n(L),D=window.localStorage.getItem("DCE_TOKEN");M.a.defaults.headers["Content-Type"]="application/json",M.a.defaults.headers["X-DCE-Access-Token"]=D;var _={state:{ips:[],pageList:[],unUseIps:[],currentUserInfo:[],tenants:[],gateway:[]},getters:{ips:function(e){return e.ips},pageList:function(e){return e.pageList},unUseIps:function(e){return e.unUseIps},currentUserInfo:function(e){return e.currentUserInfo},tenants:function(e){return e.tenants},gateway:function(e){return e.gateway}},mutations:{alterIps:function(e,t){e.ips=t,console.log("已分配ip",e.ips)},alterPageList:function(e,t){e.pageList=t,console.log("已分配分页",e.pageList)},alterUnUseIps:function(e,t){e.unUseIps=t,console.log("未分配ip",e.unUseIps)},alterCurrentUserInfo:function(e,t){e.currentUserInfo=t,console.log("当前登录的用户：",e.currentUserInfo)},alterTenants:function(e,t){e.tenants=t,console.log("租户列表",e.tenants)},alterGateway:function(e,t){e.gateway=t,console.log("网关子网",e.gateway)}},actions:{addInterceptors:function(){M.a.interceptors.request.use(function(e){return e},function(e){return console.log("请求失败"),C.a.reject(e)}),M.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(400===e.response.status&&e.response.data.id){case"static_ip_already_exist_error":e.response.data.message="创建失败，静态 IP 已存在!";break;case"static_ip_not_exist_error":e.response.data.message="不存在的信息，请重试!";break;case"not_authorized_error":e.response.data.message="需要管理员权限!";break;case"static_ip_format_error":e.response.data.message="IP 格式不正确!";break;case"static_ip_range_too_big":e.response.data.message="IP 范围过大!";break;case"sip_ip_range_err":e.response.data.message="IP范围错误!";break;case"static_ip_not_belong_to_tenant":e.response.data.message="静态 IP 不属于该租户!";break;case"sip_ip_gateway_format_error":e.response.data.message="sorry，该网关不在子网段内!";break;default:e.response.data.message="其它错误"}else e.response.data.message="连接服务器失败！";return C.a.reject(e)})},getGateway:function(e){M.a.get("./api/v1/gateway").then(function(t){e.commit("alterGateway",t.data)})},singleDeleteSubnet:function(e,t){return t=N()(t),console.log(t),new C.a(function(a,s){M.a.delete("./api/v1/gateway",{data:t}).then(function(t){e.dispatch("getGateway"),a(t)}).catch(function(e){s(e),console.log(e)})})},singleAddGeteway:function(e,t){return t=N()(t),new C.a(function(a,s){M.a.post("./api/v1/gateway",t).then(function(t){e.dispatch("getGateway"),a(t)}).catch(function(e){s(e),console.log(e),console.log(e.response.data.id)})})},getAll:function(e,t){var a=t.page,s=void 0===a?1:a,n=t.limit,i=void 0===n?1:n,o=t.keywords;return new C.a(function(t,a){M.a.get("./api/v1/static_ip").then(function(a){var n=[];p.a.forIn(a.data,function(e,t){n.push(e)});var r=n.filter(function(e){return!o||(-1!==e.StaticIp.indexOf(o)||-1!==e.TenantName.indexOf(o)||-1!==e.AppName.indexOf(o)||-1!==e.ServiceName.indexOf(o)||-1!==e.PodName.indexOf(o))});e.commit("alterIps",r);var l=r.filter(function(e,t){return t<i*s&&t>=i*(s-1)});e.commit("alterPageList",l),t(a)}).catch(function(e){a(e)})})},getUnUseIps:function(e,t){return new C.a(function(a,s){M.a.get("./api/v1/tenant_ip?TenantName="+t+"&All=0&Unuse=1").then(function(t){var s=[];p.a.mapKeys(t.data,function(t,n){s.push(t);var i={},o=[];for(var r in s[0])i.ipName=s[0][r],o.push(i),i={};e.commit("alterUnUseIps",o),a(o)})}).catch(function(t){s(t),console.log(t);e.commit("alterUnUseIps",[])})})},getCurrentUserInfo:function(e){M.a.get("/dce/my-account").then(function(t){e.commit("alterCurrentUserInfo",t.data)})},getTenants:function(e){M.a.get("./api/v1/get_tenant_name").then(function(t){e.commit("alterTenants",t.data)})},batchDeleteStaticIps:function(e,t){return new C.a(function(a,s){M.a.post("./api/v1/bulk_delete_sip",t).then(function(s){e.dispatch("getUnUseIps",t.TenantName),a(s)}).catch(function(e){s(e)})})},addStaticIP:function(e,t){return console.log("添加的租户",t),new C.a(function(a,s){M.a.post("./api/v1/tenant_ip",t).then(function(s){e.dispatch("getUnUseIps",t.TenantName),a(s)}).catch(function(e){s(e)})})}}};s.default.use(n.a);var S=new n.a.Store({modules:{IpList:_}});s.default.use(n.a),s.default.use(w.a),s.default.use(b.a,p.a),s.default.config.productionTip=!1,new s.default({el:"#app",store:S,router:f,components:{App:o},template:"<App/>"})},V94G:function(e,t){},hHBS:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.809953a548538e4562f3.js.map