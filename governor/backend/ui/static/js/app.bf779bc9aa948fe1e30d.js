webpackJsonp([1],{A0QE:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj4KICA8dGl0bGU+c3RhdGljX2lwPC90aXRsZT4KICA8Zz4KICAgIDxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjMzI2Y2U1Ii8+CiAgICA8cGF0aCBkPSJNNTAsMTkuNDc1QTMwLjUyNSwzMC41MjUsMCwxLDAsODAuNTI1LDUwLDMwLjUyNSwzMC41MjUsMCwwLDAsNTAsMTkuNDc1Wk0yMy44MzUsNTBhMjYuMDU3LDI2LjA1NywwLDAsMSwuNzYyLTYuMTg3SDM3LjU1MmE0My4zNjcsNDMuMzY3LDAsMCwwLDAsMTIuMzc1SDI0LjZBMjYuMDU3LDI2LjA1NywwLDAsMSwyMy44MzUsNTBaTTQxLjQ3LDUwYTQxLjA4Miw0MS4wODIsMCwwLDEsLjQ5LTYuMTg3SDU4LjA0MUE0MS4xNTIsNDEuMTUyLDAsMCwxLDU4LjUzLDUwYTQwLjg5MSw0MC44OTEsMCwwLDEtLjQ5Miw2LjE4OEg0MS45NTlBNDEuMSw0MS4xLDAsMCwxLDQxLjQ3LDUwWm0yMC45NzctNi4xODdINzUuNGEyNS41LDI1LjUsMCwwLDEsMCwxMi4zNzVINjIuNDQ3YTQzLjM1NSw0My4zNTUsMCwwLDAsMC0xMi4zNzVabTExLjU3My00LjEyNUg2MS43MDhhNDUuODE0LDQ1LjgxNCwwLDAsMC02Ljc0Ni0xNS4zNjdBMjYuMjQzLDI2LjI0MywwLDAsMSw3NC4wMTksMzkuNjg4Wk01MCwyNC45MTNhNDEuNDU2LDQxLjQ1NiwwLDAsMSw3LjIxNCwxNC43NzRINDIuNzg0QTQxLjQ5Myw0MS40OTMsMCwwLDEsNTAsMjQuOTEzWm0tNC45ODQtLjU4OWE0NS44NDgsNDUuODQ4LDAsMCwwLTYuNzMxLDE1LjM2NEgyNS45ODFBMjYuMjQzLDI2LjI0MywwLDAsMSw0NS4wMiwyNC4zMjRaTTI1Ljk4MSw2MC4zMTNIMzguMjkzQTQ1Ljg3Niw0NS44NzYsMCwwLDAsNDUuMDQsNzUuNjc5LDI2LjI0MywyNi4yNDMsMCwwLDEsMjUuOTgxLDYwLjMxM1pNNDkuOTg2LDc1LjA2NmE0MS40NzksNDEuNDc5LDAsMCwxLTcuMi0xNC43NTRINTcuMjA5QTQxLjU3MSw0MS41NzEsMCwwLDEsNDkuOTg2LDc1LjA2NlptNC45NzUuNjEzYTQ1Ljc3NCw0NS43NzQsMCwwLDAsNi43NDgtMTUuMzY3SDc0LjAxOUEyNi4yNDMsMjYuMjQzLDAsMCwxLDU0Ljk2MSw3NS42NzlaIiBmaWxsPSIjZmZmIi8+CiAgPC9nPgo8L3N2Zz4K"},Cpbu:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),n=s("NYxO"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=s("VU/8")({name:"App"},i,!1,function(e){s("Cpbu")},null,null).exports,r=s("/ocq"),l=s("Dd8w"),c=s.n(l),u=s("M4fF"),d=s.n(u),p={data:function(){return{tabPosition:"left",labelPosition:"top",tabName:"first",multipleSelection:[],dialogVisible:!1,getewayDialogVisible:!1,title:"新增IP",getewayTitle:"新增网关子网",form:{TenantName:""},deleteForm:{StaticIps:[],TenantName:""},staticIps:[],addIpsForm:{StartIp:"",EndIp:"",TenantName:""},keywords:"",getewayForm:{Subnet:"",Gateway:""},total:0,currentPage:1,pagesize:10,InfoList:[],everyInfoList:[],total1:0,currentPage1:1,InfoList1:[],everyInfoList1:[],rules:{StartIp:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:"请输入有效的IP地址",trigger:"blur"}],EndIp:[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:"请输入有效的IP地址",trigger:"blur"}],TenantName:[{required:!0,message:"请选择租户",trigger:"change"}],Gateway:[{required:!0,message:"网关不能为空",trigger:"blur"},{pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:"请输入有效的网关地址",trigger:"blur"}],Subnet:[{required:!0,message:"子网不能为空",trigger:"blur"},{message:"请输入有效的子网地址",trigger:"blur"}]}}},created:function(){this.getAll(),this.getCurrentUserInfo(),this.getTenants(),this.getGateway()},mounted:function(){var e=this;setTimeout(function(){e.computeIpsList()},1e3),this.addInterceptors()},watched:function(){this.getCurrentUserInfo(),this.getTenants(),this.computeIpsList()},computed:c()({deleteForm2:function(){var e=this;this.multipleSelection.forEach(function(t,s){e.staticIps.push(t.ipName)}),this.deleteForm.StaticIps=this.staticIps,this.deleteForm.TenantName=this.form.TenantName,this.staticIps=[]},ipsList:function(){var e=this;return this.everyInfoList.filter(function(t){return-1!==t.StaticIp.indexOf(e.keywords)||-1!==t.TenantName.indexOf(e.keywords)||-1!==t.AppName.indexOf(e.keywords)||-1!==t.ServiceName.indexOf(e.keywords)||-1!==t.PodName.indexOf(e.keywords)})}},Object(n.c)(["ips","unUseIps","currentUserInfo","tenants","VerityForm","CheckedRules","gateway"])),methods:c()({DeleteGateway:function(e,t){var s=this,a={};a.Subnet=t.Subnet,this.$confirm("此操作将会删除当前数据,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.singleDeleteSubnet(a).then(function(e){s.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(e){console.log(e),e.response.status&&s.$message({showClose:!0,message:e.response.data.message,type:"error"})})}).catch(function(){s.$message({type:"info",message:"已取消删除",showClose:!0})})},submitGetewayForm:function(e){var t=this;this.$refs.getewayForm.validate(function(s){if(!s)return console.log("error submit!!"),!1;t.singleAddGeteway(e).then(function(e){t.$message({showClose:!0,message:"添加成功",type:"success"}),t.getewayDialogVisible=!1,t.$refs.getewayForm.resetFields()}).catch(function(e){t.$message({showClose:!0,message:e.response.data.message,type:"error"}),console.log(e)})})},addGeteway:function(e){this.getewayDialogVisible=!0},closeGetewayDialog:function(){this.getewayDialogVisible=!1,this.$refs.getewayForm.resetFields()},computeUnUseIPs:function(){var e=this;this.InfoList1=d.a.clone(this.unUseIps),this.total1=this.InfoList1.length;var t=[];this.InfoList1.forEach(function(s){t.push(e.InfoList1.splice(0,e.pagesize))}),this.InfoList1.length<this.pagesize&&t.push(this.InfoList1.splice(0,this.InfoList1.length)),this.InfoList1=t,this.everyInfoList1=this.InfoList1[0]},handleCurrentChange1:function(e){this.everyInfoList1=this.InfoList1[e-1]},computeIpsList:function(){var e=this;this.InfoList=d.a.clone(this.ips),this.total=this.InfoList.length;var t=[];this.InfoList.forEach(function(s){t.push(e.InfoList.splice(0,e.pagesize))}),this.InfoList.length<this.pagesize&&t.push(this.InfoList.splice(0,this.InfoList.length)),this.InfoList=t,this.everyInfoList=this.InfoList[0],console.log(this.everyInfoList)},handleCurrentChange:function(e){this.everyInfoList=this.InfoList[e-1]},deleteStaticIPs:function(e){var t=this;console.log(e),console.log(e.TenantName),this.$confirm("此操作将会删除当前数据,是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.batchDeleteStaticIps(e).then(function(s){t.$message({showClose:!0,message:"删除成功",type:"success"}),t.submitForm(e.TenantName)}).catch(function(e){console.log(e),t.$message({showClose:!0,message:e.response.data.message,type:"error"})})}).catch(function(){t.$message({type:"info",message:"已取消删除",showClose:!0})})},callOff:function(){this.dialogVisible=!1,this.$refs.addIpsForm.resetFields()},addIP:function(){this.dialogVisible=!0},addIPSubmitForm:function(e){var t=this;console.log(e),this.$refs.addIpsForm.validate(function(s){if(!s)return console.log("error submit!!"),!1;t.addStaticIP(e).then(function(s){t.form.TenantName=e.TenantName,t.$message({showClose:!0,message:"添加IP成功",type:"success"}),t.submitForm(e.TenantName),t.dialogVisible=!1}).catch(function(e){console.log(e),t.$message({showClose:!0,message:e.response.data.message,type:"error"})})})},submitForm:function(e){this.getUnUseIp(e)},getUnUseIp:function(e){var t=this;this.getUnUseIps(e).then(function(e){t.computeUnUseIPs()}).catch(function(e){console.log(e),t.everyInfoList1=[]})},handleSelectionChange:function(e){this.multipleSelection=e}},Object(n.b)(["getAll","getUnUseIps","getCurrentUserInfo","getTenants","batchDeleteStaticIps","addStaticIP","getGateway","singleDeleteSubnet","singleAddGeteway","addInterceptors"]))},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"static-ip"},[e._m(0),e._v(" "),s("main",{staticClass:"ip-content"},[s("article",{staticClass:"container"},[s("el-card",{staticClass:"box-card content"},[s("el-tabs",{attrs:{"tab-position":e.tabPosition},model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[s("el-tab-pane",{attrs:{label:"IP地址池",name:"first"}},[s("div",{staticClass:"panel-content"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix panel-header",attrs:{slot:"header"},slot:"header"},[s("p",[e._v("IP地址池")])]),e._v(" "),s("div",{staticClass:"btn-box"},[s("el-input",{staticClass:"sort",attrs:{placeholder:"请输入关键字","prefix-icon":"el-icon-search"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}})],1),e._v(" "),s("div",{staticClass:"tabel-box"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.ipsList,border:""}},[s("el-table-column",{attrs:{prop:"StaticIp",label:"IP地址"}}),e._v(" "),s("el-table-column",{attrs:{prop:"TenantName",label:"租户"}}),e._v(" "),s("el-table-column",{attrs:{prop:"AppName",label:"应用"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ServiceName",label:"服务"}}),e._v(" "),s("el-table-column",{attrs:{prop:"PodName",label:"Pod"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ContainerId",label:"容器ID"}})],1),e._v(" "),s("el-pagination",{staticClass:"pagination",attrs:{layout:"total, prev, pager, next, jumper","page-size":e.pagesize,"current-page":e.currentPage,total:e.total},on:{"current-change":e.handleCurrentChange}})],1)])],1)]),e._v(" "),s("el-tab-pane",{attrs:{label:"暂未分配",name:"second"}},[s("div",{staticClass:"panel-content"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix panel-header",attrs:{slot:"header"},slot:"header"},[s("p",[e._v("未分配IP")])]),e._v(" "),s("el-select",{staticClass:"selectTenant",attrs:{placeholder:"请选择租户"},on:{change:function(t){e.submitForm(e.form.TenantName)}},model:{value:e.form.TenantName,callback:function(t){e.$set(e.form,"TenantName",t)},expression:"form.TenantName"}},e._l(e.tenants,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})})),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.currentUserInfo.IsAdmin,expression:"currentUserInfo.IsAdmin"}],staticClass:"btn-box"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUserInfo.IsAdmin,expression:"currentUserInfo.IsAdmin"}],staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.addIP()}}},[s("i",{staticClass:"el-icon-plus"}),e._v("\n                      新增IP\n                    ")]),e._v(" "),s("el-button",{staticClass:"btn",attrs:{type:"danger",icon:"el-icon-delete"},on:{click:function(t){e.deleteStaticIPs(e.deleteForm)}}})],1),e._v(" "),s("div",{staticStyle:{display:"none"}},[e._v(e._s(e.deleteForm)+e._s(e.deleteForm2))]),e._v(" "),s("div",{staticClass:"tabel-box"},[s("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.everyInfoList1,border:""},on:{"selection-change":e.handleSelectionChange},model:{value:e.deleteForm,callback:function(t){e.deleteForm=t},expression:"deleteForm"}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),s("el-table-column",{attrs:{prop:"ipName",label:"IP地址"}})],1),e._v(" "),s("el-pagination",{staticClass:"pagination",attrs:{layout:"total, prev, pager, next, jumper","page-size":e.pagesize,"current-page":e.currentPage1,total:e.total1},on:{"current-change":e.handleCurrentChange1}})],1)],1)],1)]),e._v(" "),e.currentUserInfo.IsAdmin?s("el-tab-pane",{attrs:{label:"网关子网",name:"third"}},[s("div",{staticClass:"panel-content"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix panel-header",attrs:{slot:"header"},slot:"header"},[s("p",[e._v("网关子网")])]),e._v(" "),s("div",{staticClass:"btn-box"},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:e.currentUserInfo.IsAdmin,expression:"currentUserInfo.IsAdmin"}],staticClass:"btn",attrs:{type:"primary"},on:{click:function(t){e.addGeteway()}}},[s("i",{staticClass:"el-icon-plus"}),e._v("\n                      新增网关子网\n                    ")])],1),e._v(" "),s("div",{staticClass:"tabel-box"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.gateway,border:""}},[s("el-table-column",{attrs:{prop:"Gateway",label:"网关"}}),e._v(" "),s("el-table-column",{attrs:{prop:"Subnet",label:"子网"}}),e._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){e.DeleteGateway(t.$index,t.row)}}},[s("i",{staticClass:"el-icon-delete"})])]}}])})],1)],1)])],1)]):e._e()],1)],1),e._v(" "),s("el-dialog",{staticClass:"templet_dialog",attrs:{title:e.title,visible:e.dialogVisible,center:"",width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("el-form",{ref:"addIpsForm",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.addIpsForm,rules:e.rules,CheckedRules:e.addIpsForm}},[s("el-form-item",{attrs:{label:"分配IP",prop:"StartIp"}},[s("el-input",{attrs:{placeholder:"IP起始地址",clearable:""},model:{value:e.addIpsForm.StartIp,callback:function(t){e.$set(e.addIpsForm,"StartIp",t)},expression:"addIpsForm.StartIp"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"EndIp"}},[s("el-input",{attrs:{placeholder:"IP结束地址",clearable:""},model:{value:e.addIpsForm.EndIp,callback:function(t){e.$set(e.addIpsForm,"EndIp",t)},expression:"addIpsForm.EndIp"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"租户",prop:"TenantName",required:""}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.addIpsForm.TenantName,callback:function(t){e.$set(e.addIpsForm,"TenantName",t)},expression:"addIpsForm.TenantName"}},e._l(e.tenants,function(e){return s("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.callOff()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addIPSubmitForm(e.addIpsForm)}}},[e._v("确 定")])],1)],1),e._v(" "),s("el-dialog",{staticClass:"templet_dialog",attrs:{title:e.getewayTitle,visible:e.getewayDialogVisible,center:"",width:"30%"},on:{"update:visible":function(t){e.getewayDialogVisible=t}}},[s("el-form",{ref:"getewayForm",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.getewayForm,rules:e.rules,CheckedRules:e.addIpsForm}},[s("el-form-item",{attrs:{label:"子网",prop:"Subnet"}},[s("el-input",{attrs:{placeholder:"子网,例如192.168.5.0/23",clearable:""},model:{value:e.getewayForm.Subnet,callback:function(t){e.$set(e.getewayForm,"Subnet",t)},expression:"getewayForm.Subnet"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"网关",prop:"Gateway"}},[s("el-input",{attrs:{placeholder:"网关,例如192.168.5.1",clearable:""},model:{value:e.getewayForm.Gateway,callback:function(t){e.$set(e.getewayForm,"Gateway",t)},expression:"getewayForm.Gateway"}})],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.closeGetewayDialog()}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitGetewayForm(e.getewayForm)}}},[e._v("确 定")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"ip-header"},[t("section",{staticClass:"header-top"},[t("article",{staticClass:"header-img"},[t("img",{attrs:{src:s("A0QE")}})]),this._v(" "),t("article",{staticClass:"header-content clearfix"},[t("div",{staticClass:"hedder-title"},[t("p",[this._v("地址池管理")])]),this._v(" "),t("div",{staticClass:"header-describe"},[t("p",{staticClass:"clearfix"},[this._v("统一管理和分配静态 IP 地址, 每个容器都可以拥有独立的静态 IP")])])])])])}]};var f=s("VU/8")(p,m,!1,function(e){s("vXUm")},null,null).exports;a.default.use(r.a);var g=new r.a({routes:[{path:"/",name:"IpList",component:f}]}),h=s("zL8q"),I=s.n(h),w=(s("tvR6"),s("NETs")),b=s.n(w),y=s("mvHQ"),v=s.n(y),N=s("//Fk"),L=s.n(N),C=s("mtWM"),M=s.n(C),_=window.localStorage.getItem("DCE_TOKEN");M.a.defaults.headers["Content-Type"]="application/json",M.a.defaults.headers["X-DCE-Access-Token"]=_,console.log(M.a.defaults.baseURL);var D={state:{ips:[],unUseIps:[],currentUserInfo:[],tenants:[],gateway:[],everyInfoList:[]},getters:{ips:function(e){return e.ips},unUseIps:function(e){return e.unUseIps},currentUserInfo:function(e){return e.currentUserInfo},tenants:function(e){return e.tenants},infoList:function(e){return e.infoList},everyInfoList:function(e){return e.everyInfoList},gateway:function(e){return e.gateway}},mutations:{alterIPs:function(e,t){e.ips=t},alterUnUseIps:function(e,t){e.unUseIps=t},alterCurrentUserInfo:function(e,t){e.currentUserInfo=t},alterTenants:function(e,t){e.tenants=t},alterGateway:function(e,t){e.gateway=t}},actions:{addInterceptors:function(){M.a.interceptors.request.use(function(e){return e},function(e){return console.log("请求失败"),L.a.reject(e)}),M.a.interceptors.response.use(function(e){return e},function(e){if(e.response)switch(400===e.response.status&&e.response.data.id){case"static_ip_already_exist_error":e.response.data.message="创建失败，静态 IP 已存在!";break;case"static_ip_not_exist_error":e.response.data.message="不存在的信息，请重试!";break;case"not_authorized_error":e.response.data.message="需要管理员权限!";break;case"static_ip_format_error":e.response.data.message="IP 格式不正确!";break;case"static_ip_range_too_big":e.response.data.message="IP 范围过大!";break;case"static_ip_not_belong_to_tenant":e.response.data.message="静态 IP 不属于该租户!";break;case"sip_ip_range_err":e.response.data.message="IP范围错误!";break;case"sip_ip_create_gateway_error ":e.response.data.message="创建网关错误!";break;case"sip_delete_error":e.response.data.message=" 静态IP删除错误!";break;case"sip_ip_delete_gateway_error":e.response.data.message="删除网关错误!";break;case"sip_already_assigned_error":e.response.data.message="静态IP已分配!";break;case"sip_ip_gateway_format_error":e.response.data.message="sorry，该网关不在子网段内!";break;case"sip_ip_gateway_not_in_subnet_error":e.response.data.message="网关未在子网内!";break;case"subnet_already_exist_error":e.response.data.message="子网已存在!";break;default:e.response.data.message="其他错误"}else e.response.data.message="连接服务器失败！";return L.a.reject(e)})},getGateway:function(e){M.a.get("./api/v1/gateway").then(function(t){e.commit("alterGateway",t.data)})},singleDeleteSubnet:function(e,t){return t=v()(t),console.log(t),new L.a(function(s,a){M.a.delete("./api/v1/gateway",{data:t}).then(function(t){e.dispatch("getGateway"),s(t)}).catch(function(e){a(e),console.log(e)})})},singleAddGeteway:function(e,t){return t=v()(t),new L.a(function(s,a){M.a.post("./api/v1/gateway",t).then(function(t){e.dispatch("getGateway"),s(t)}).catch(function(e){a(e),console.log(e),console.log(e.response.data.id)})})},getAll:function(e){M.a.get("./api/v1/static_ip").then(function(t){var s=[];console.log("ip地址池：",t.data),d.a.forIn(t.data,function(t,a){s.push(t),e.commit("alterIPs",s)}),console.log(s)})},getUnUseIps:function(e,t){return new L.a(function(s,a){M.a.get("./api/v1/tenant_ip?TenantName="+t+"&All=0&Unuse=1").then(function(t){var a=[];d.a.mapKeys(t.data,function(t,n){a.push(t);var i={},o=[];for(var r in a[0])i.ipName=a[0][r],o.push(i),i={};e.commit("alterUnUseIps",o),s(o)})}).catch(function(t){a(t),console.log(t);e.commit("alterUnUseIps",[])})})},getCurrentUserInfo:function(e){M.a.get("/dce/my-account").then(function(t){e.commit("alterCurrentUserInfo",t.data)})},getTenants:function(e){M.a.get("./api/v1/get_tenant_name").then(function(t){e.commit("alterTenants",t.data)})},batchDeleteStaticIps:function(e,t){return console.log(t),new L.a(function(s,a){M.a.post("./api/v1/bulk_delete_sip",t).then(function(a){e.dispatch("getUnUseIps",t.TenantName),s(a)}).catch(function(e){a(e),console.log(e)})})},addStaticIP:function(e,t){return console.log("添加的租户",t),new L.a(function(s,a){M.a.post("./api/v1/tenant_ip",t).then(function(a){e.dispatch("getUnUseIps",t.TenantName),s(a)}).catch(function(e){a(e),console.log(e)})})}}};a.default.use(n.a);var T=new n.a.Store({modules:{IpList:D}});a.default.use(n.a),a.default.use(I.a),a.default.use(b.a,d.a),a.default.config.productionTip=!1,new a.default({el:"#app",store:T,router:g,components:{App:o},template:"<App/>"})},tvR6:function(e,t){},vXUm:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.bf779bc9aa948fe1e30d.js.map